{% extends "base_generic.html" %}

{% block content %}
  <p>There are following meals in your plan stored:</p>
  <table class="table table-hover table table-bordered text-center">
  <thead>
    <tr>
    <th scope="col"> </th>
      <th scope="col">Monday</th>
      <th scope="col">Tuesday</th>
      <th scope="col">Wednesday</th>
      <th scope="col">Thursday</th>
      <th scope="col">Friday</th>
      <th scope="col">Saturday</th>
      <th scope="col">Sunday</th>
    </tr>
  </thead>
<tbody>
  
    <tr>
      <th>1st breakfest</th>
  {% for j in '0123456'|make_list %}
      <th>
        <a href="{% url 'create_plan' j 0 %} ">+</a>
        <a href="{% url 'create_plan' j 0 1%}">-</br></a>
        {% for dish in dish_list_1st_breakfest %}
        {% if dish.actual_day == forloop.parentloop.counter0 %}
          <a href="dish/{{dish.dish_id}}">{{dish.dish_id}}</a></br>
    {% endif %}
      {%endfor%}
      
    </th>
      {% endfor %}
    </tr>
    <tr>
      <th>2nd breakfest</th>
      {% for j in '0123456'|make_list %}
      <th>
        <a href="{% url 'create_plan' j 1 %}">+</a>
        <a href="{% url 'create_plan' j 1 1 %}"> -</br></a>
        {% for dish in dish_list_2nd_breakfest %}
        {% if dish.actual_day == forloop.parentloop.counter0 %}
          <a href="dish/{{dish.dish_id}}">{{dish.dish_id}}</a>
    {% endif %}
      {%endfor%}
    </th>
      {% endfor %}
    </tr> 
    <tr>
      <th>Dinner</th>
      {% for j in '0123456'|make_list %}
      <th>
        <a href="{% url 'create_plan' j 2 %}">+</a>
        <a href="{% url 'create_plan' j 2 1 %}"> -</br></a>
        {% for dish in dish_list_dinner %}
        {% if dish.actual_day == forloop.parentloop.counter0 %}
          <a href="dish/{{dish.dish_id}}">{{dish.dish_id}}</a>
    {% endif %}
      {%endfor%}
    </th>
      {% endfor %}
    </tr> 
    <tr>
      <th>Supper</th>
      {% for j in '0123456'|make_list %}
      <th>
        <a href="{% url 'create_plan' j 3 %}">+</a>
        <a href="{% url 'create_plan' j 3 1 %}"> -</br></a>
        {% for dish in dish_list_supper %}
        {% if dish.actual_day == forloop.parentloop.counter0 %}
          <a href="dish/{{dish.dish_id}}">{{dish.dish_id}}</a>
          {% endif %}
      {% endfor %}
    </th>
      {% endfor %}
    </tr>   
  </tbody>
</table>

<p><a href="{% url 'add_dish' 0 %}">Add new meal to the plan?</a></p>

<p>Shopping list:</p>

<ul class=".list-group-flush">
{% for item in shopping_list %}
    <!-- <li>{{ item.ingredient_id__name }}: {{item.quantity}} {{item.ingredient_id__unit_id__unit_type}}</li> -->
    <li class="list-group-item">{{ item }}</li>
{% empty %}
<p>No meals in plan ;(</p>
{% endfor %}
</ul>

{% endblock %}